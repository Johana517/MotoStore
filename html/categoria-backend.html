<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Categorías | Moto Store</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../fontawesome-free-6.7.2-web/css/all.min.css">
    <link rel="icon" type="image/png" href="../img/logo_moto_store-1-5.png">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        /* Estilo general */
        /* Navbar */
        /* Contenedor principal */
        .main-container { 
        display: flex; 
        padding: 20px; 
        gap: 20px; /* Espaciado entre la barra lateral y la cuadrícula de productos */
        }
        /* Sidebar - Filtro de Búsqueda */
        .sidebar {
        width: 250px;
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        }
        .sidebar h2 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        }
        .sidebar label {
        font-weight: bold;
        margin-top: 5px;
        }
        .sidebar .form-select, 
        .sidebar .form-control {
        width: 100%; 
        padding: 8px;
        border-radius: 5px;
        border: 1px solid #ccc;
        }
        .sidebar .btn {
        width: 100%; 
        padding: 10px;
        font-size: 1rem;
        }
        /* Cuadrícula de productos */
        /* Tarjeta de producto */
        /* Agrega esto a tu sección de estilos */
        .product-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 20px;
          margin-top: 20px;
        }

        /* Contenedor principal de la tarjeta */
.product-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 20px;
    width: 70%;
}
.product-card {
    width: 300px;
    border: 1px solid #e1e1e1;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    background: white;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
}

/* Contenedor de la imagen */
.product-image-container {
    height: 70%;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f8f9fa;
    padding: 15px;
    border-bottom: 1px solid #eee;
}

/* Imagen del producto */
.product-image {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    transition: transform 0.5s ease;
}

.product-card:hover .product-image {
    transform: scale(1.05);
}

/* Contenedor de información */
.product-info {
    padding: 15px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

/* Título del producto */
.product-title {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: #333;
    min-height: 2.5rem;
    line-height: 1.3;
}

/* Marca del producto */
.product-brand {
    font-size: 0.9rem;
    color: #666;
    margin-bottom: 0.8rem;
}

/* Descripción del producto */
.product-description {
    font-size: 0.95rem;
    color: #555;
    margin-bottom: 1rem;
    line-height: 1.4;
    flex-grow: 1;
    min-height: 3rem;
}

/* Precio del producto */
.product-price {
    font-size: 1.2rem;
    font-weight: 700;
    color: #007bff;
    margin-top: 0.5rem;
}

/* Botón de detalles */
.product-detail-btn {
    width: 100%;
    padding: 10px 15px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 0 0 8px 8px;
    font-size: 0.95rem;
    cursor: pointer;
    transition: background-color 0.3s;
    margin-top: auto;
}

.product-detail-btn:hover {
    background-color: #0069d9;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .product-card {
        max-width: 100%;
    }
    
    .product-image-container {
        height: 180px;
    }
}

@media (max-width: 576px) {
    .product-image-container {
        height: 160px;
    }
    
    .product-title {
        font-size: 1rem;
    }
    
    .product-price {
        font-size: 1.1rem;
    }
}
      </style>
</head>
<div>
  <!-- HEADER / NAVBAR -->
  <header>
    <nav class="navbar navbar-expand-lg">
      <a class="navbar-brand" href="sesion-vendedor.html">
        <img src="../img/logo_moto_store-1-5.png" style="width: 200px; height: 150px;" alt="logo">
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item mx-2">
            <a class="nav-link" href="informe-ven.html">Informes<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item mx-2"> 
            <a class="nav-link" href="membresia.html">Membresia</a>
          </li>
          <li class="nav-item mx-2">
            <a class="nav-link" href="categoria-backend.html">Categorias</a>
          </li>
          <li class="nav-item mx-2">
            <a class="nav-link" href="MisProductos.html">Mis productos</a>
          </li>
          <form class="form-inline">
            <div class="input-group">
              <input type="search" class="form-control" placeholder="Search">
              <button class="btn btn-outline-success" type="submit">Search</button>
            </div>
          </form>
          <li class="nav-item dropdown mx-2">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Vender 
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="vender-moto.html">Moto</a>
              <a class="dropdown-item" href="vender-repuesto.html">Repuesto</a>
            </div>
          </li>
          <li class="nav-item mx-2">
            <a class="nav-link" href="ayuda-vendedor.html">Ayuda</a>
          </li>
          <li class="nav-item dropdown mx-3">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <i class="fa fa-user fa-2x"></i>
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="perfil-vendedor.html">Ver perfil</a>
              <a class="dropdown-item" id="logout" href="#">Cerrar sesion</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
  </header>
  
  <div class="main-container">
    <div class="sidebar">
        <h2>Filtro de Búsqueda</h2>
        <label>Tipo:</label>
        <select id="tipo" class="form-select" onchange="mostrarOpciones()">
          <option value="">Seleccionar</option>
          <option value="moto">Moto</option>
          <option value="repuesto">Repuesto</option>
      </select>
        
        <!-- Filtros para motos -->
        <div id="opcionesMoto" style="display: none;">
            <label>Marca:</label>
            <select id="marcaMoto" class="form-select">
              <option value="">Seleccionar</option>
              <option value="Yamaha">Yamaha</option>
              <option value="Honda">Honda</option>
              <option value="Suzuki">Suzuki</option>
              <option value="Kawasaki">Kawasaki</option>
              <option value="Auteco">Auteco</option>
            </select>
            
            <label>Tipo de Moto:</label>
            <select id="tipoMoto" class="form-select">
                <option value="">Seleccionar</option>
                <option value="Deportiva">Deportiva</option>
                <option value="Scooter">Scooter</option>
                <option value="Enduro">Enduro</option>
            </select>

            <label>Cilindraje:</label>
            <select id="tipoCilindraje" class="form-select">
                <option value="">Seleccionar</option>                  
                <option value="1">100</option>
                <option value="2">110</option>
                <option value="3">125</option>
                <option value="4">150</option>
                <option value="5">200</option>
                <option value="5">250</option>
                <option value="5">300</option>
            </select>

            <label>Años(desde que año tiene su moto)</label>
            <select id="tipoAños" class="form-select">
                <option value="">Seleccionar</option>                 
                <option value="2">2010</option>
                <option value="3">2011</option>
                <option value="4">2012</option>
                <option value="5">2013</option>
                <option value="6">2014</option>
                <option value="7">2015</option>
                <option value="8">2016</option>
                <option value="9">2017</option>
                <option value="10">2018</option>
                <option value="11">2019</option>
                <option value="12">2020</option>
                <option value="13">2021</option>
                <option value="14">2022</option>
                <option value="15">2023</option>
                <option value="16">2024</option>
                <option value="17">2025</option>
            </select>    
        </div>
        
        <!-- Filtros para repuestos -->
        <div id="opcionesRepuesto" style="display: none;">
          <label>Marca:</label>
            <select id="marcaRepuesto" class="form-select">
                <option value="">Seleccionar</option>
                <option value="Yamaha">Yamaha</option>
                <option value="Honda">Honda</option>
                <option value="Suzuki">Suzuki</option>
                <option value="Kawasaki">Kawasaki</option>
                <option value="Auteco">Auteco</option>
            </select>

            <label for="categoria">Categoría:</label>
            <select id="categoria" class="form-select" onchange="cargarSubcategorias()">
              <option value="">Seleccionar categoría</option>
              <option value="motor">Partes del Motor</option>
              <option value="transmision">Transmisión</option>
              <option value="frenos">Sistema de Frenos</option>
              <option value="suspension">Ruedas y Suspensión</option>
            </select>
            
            <br><br>
            
            <label for="subcategoria">Subcategoría:</label>
            <select id="subcategoria" class="form-select">
              <option>Seleccionar subcategoría</option>
            </select>
            
            <script>
              const subcategorias = {
                motor: [
                  "Cilindros",
                  "Pistones",
                  "Árbol de levas",
                  "Válvulas",
                  "Juntas"
                ],
                transmision: [
                  "Cadena",
                  "Piñón",
                  "Corona",
                  "Embrague",
                  "Caja de cambios"
                ],
                frenos: [
                  "Pastillas de freno",
                  "Discos de freno",
                  "Zapatas",
                  "Bombas de freno",
                  "Líneas de freno"
                ],
                suspension: [
                  "Llantas",
                  "Neumáticos",
                  "Amortiguadores",
                  "Bujes y rodamientos",
                  "Ejes"
                ]
              };
            
              function cargarSubcategorias() {
                const categoria = document.getElementById("categoria").value;
                const subcategoriaSelect = document.getElementById("subcategoria");
            
                // Limpiar opciones anteriores
                subcategoriaSelect.innerHTML = '<option value="" > Selecciona una subcategoría </option>';
            
                // Si existe la categoría, llenar subcategorías
                if (categoria && subcategorias[categoria]) {
                  subcategorias[categoria].forEach(function(subcat) {
                    const option = document.createElement("option");
                    option.value = subcat.toLowerCase().replace(/\s/g, "_");
                    option.textContent = subcat;
                    subcategoriaSelect.appendChild(option);
                  });
                }
              }
            </script>
            

        </div>
        
        <button id="btnBuscar" class="btn btn-primary">Buscar</button>

    </div>
    
    <div class="product-container">
        <h2 id="tituloResultados" class="mb-4"></h2>
        <div class="product-grid row"></div>
    </div>
    <div>
      
    </div>           
          
          </script>
      </div>
    </div>
  </div>
  <footer class="py-4">
    <div class="container">
      <!-- Primera fila: Enlaces y redes sociales -->
      <div class="d-flex flex-column flex-md-row justify-content-between align-items-center">
        <!-- Enlaces legales - Izquierda -->
        <div class="mb-3 mb-md-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item me-3">
              <a href="aviso-legal-fronend.html" class="text-decoration-none fs-5">Aviso Legal</a>
            </li>
            <li class="list-inline-item">
              <a href="ayuda-frontend.html" class="text-decoration-none fs-5">Ayuda</a>
            </li>
          </ul>
        </div>
        
        <!-- Redes sociales - Derecha (iconos más grandes) -->
        <div class="mb-3 mb-md-0">
          <ul class="list-inline mb-0">
            <li class="list-inline-item me-3">
              <a href="#" class="text-white">
                <i class="fab fa-youtube fa-3x"></i>
              </a>
            </li>
            <li class="list-inline-item me-3">
              <a href="#" class="text-white">
                <i class="fab fa-facebook fa-3x"></i>
              </a>
            </li>
            <li class="list-inline-item me-3">
              <a href="#" class="text-white">
                <i class="fab fa-x-twitter fa-3x"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="#" class="text-white">
                <i class="fab fa-instagram fa-3x"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
        
        <!-- Copyright centrado -->
        <div class="col-12 text-center mt-4 pt-3 border-top border-secondary">
          <p class="mb-0 text-white">https://Motostore.com</p>
        </div>
      </div>
    </div>
  </footer>
<script src="../js/jquery.min.js"></script>
<script src="../js/popper.min.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="/js/buscar.js"></script>

<script>
  // Asegúrate de que esta función esté definida correctamente
  function mostrarOpciones() {
  try {
      var tipo = document.getElementById("tipo").value;
      var opcionesMoto = document.getElementById("opcionesMoto");
      var opcionesRepuesto = document.getElementById("opcionesRepuesto");
      
      if (!opcionesMoto || !opcionesRepuesto) {
          console.error("Elementos del formulario no encontrados");
          return;
      }
      
      opcionesMoto.style.display = tipo === "moto" ? "block" : "none";
      opcionesRepuesto.style.display = tipo === "repuesto" ? "block" : "none";
  } catch (error) {
      console.error("Error en mostrarOpciones:", error);
  }
}


document.addEventListener("DOMContentLoaded", function () {
  const btnBuscar = document.getElementById("btnBuscar");
  const tipo = document.getElementById("tipo");
  const productGrid = document.querySelector(".product-grid");
  const tituloResultados = document.getElementById("tituloResultados");

  btnBuscar.addEventListener("click", function () {
    const tipoSeleccionado = tipo.value;
    let productosFiltrados = [];

    // Lógica de filtrado según el tipo seleccionado
    if (tipoSeleccionado === "moto") {
      const marca = document.getElementById("marcaMoto").value;
      const tipoMoto = document.getElementById("tipoMoto").value;
      const cilindraje = document.getElementById("tipoCilindraje").value;
      const anio = document.getElementById("tipoAños").value;

      productosFiltrados = productos.filter(producto => 
        producto.tipo === "moto" &&
        (marca === "" || producto.marca === marca) &&
        (tipoMoto === "" || producto.tipoMoto === tipoMoto) &&
        (cilindraje === "" || producto.cilindraje === cilindraje) &&
        (anio === "" || producto.anio === anio)
      );

    } else if (tipoSeleccionado === "repuesto") {
      const marca = document.getElementById("marcaRepuesto").value;
      const categoria = document.getElementById("categoria").value;
      const subcategoria = document.getElementById("subcategoria").value;

      productosFiltrados = productos.filter(producto =>
        producto.tipo === "repuesto" &&
        (marca === "" || producto.marca === marca) &&
        (categoria === "" || producto.categoria === categoria) &&
        (subcategoria === "" || producto.subcategoria === subcategoria)
      );
    }

    mostrarProductos(productosFiltrados);
  });

  function mostrarProductos(lista) {
    productGrid.innerHTML = ""; // Limpiar resultados anteriores
    if (lista.length === 0) {
      tituloResultados.textContent = "No se encontraron resultados";
      return;
    }

    tituloResultados.textContent = `Se encontraron ${lista.length} resultados`;

    lista.forEach(producto => {
      const card = document.createElement("div");
      card.className = "col-md-4 product-card";
      card.innerHTML = `
        <img src="${producto.imagen}" alt="${producto.nombre}">
        <div class="card-body">
          <h5 class="card-title">${producto.nombre}</h5>
          <p class="card-text">${producto.descripcion}</p>
        </div>
        <div class="card-footer">
          <strong>$${producto.precio}</strong>
        </div>
      `;
      productGrid.appendChild(card);
    });
  }
});
// Base de datos de productos


// Ejemplo de productos (esto debería venir de tu base de datos)

</script>
</body>

</html>